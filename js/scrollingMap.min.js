document.onmousemove=handleMouseMove;let mousePos,first=!0,startX=0,startY=0,finishX=0,finishY=0;const map=document.getElementById("visibleMap"),fullMap=document.getElementById("svgMapContainer"),fullMap2=document.getElementById("svgMapContainerInTest"),windowHeight=window.screen.height/2,windowWidth=window.screen.width/2;function getBodyScrollTop(){return self.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop}function handleMouseMove(e){var t,n,l;null==(e=e||window.event).pageX&&null!=e.clientX&&(n=(t=e.target&&e.target.ownerDocument||document).documentElement,l=t.body,e.pageX=e.clientX+(n&&n.scrollLeft||l&&l.scrollLeft||0)-(n&&n.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||l&&l.scrollTop||0)-(n&&n.clientTop||l&&l.clientTop||0)),mousePos={x:e.pageX,y:e.pageY}}function mapZoom(){differenceX=mousePos.x-startX,differenceY=mousePos.y-startY,fullMap?fullMap.getBoundingClientRect().left>=map.getBoundingClientRect().left&&differenceX>0||fullMap.getBoundingClientRect().right<=map.getBoundingClientRect().right&&differenceX<0||fullMap.getBoundingClientRect().top>=map.getBoundingClientRect().top&&differenceY>0||fullMap.getBoundingClientRect().bottom<=map.getBoundingClientRect().bottom&&differenceY<0||(first?(console.log("wdawada"),fullMap.style.left=windowWidth-8+differenceX+"px",fullMap.style.top=windowHeight-118+differenceY+"px"):(fullMap.style.left=parseInt(finishX)+differenceX+"px",fullMap.style.top=parseInt(finishY)+differenceY+"px")):fullMap2&&(fullMap2.getBoundingClientRect().left>=map.getBoundingClientRect().left&&differenceX>0||fullMap2.getBoundingClientRect().right<=map.getBoundingClientRect().right&&differenceX<0||fullMap2.getBoundingClientRect().top>=map.getBoundingClientRect().top&&differenceY>0||fullMap2.getBoundingClientRect().bottom<=map.getBoundingClientRect().bottom&&differenceY<0||(first?(console.log("wdawada"),fullMap2.style.left=windowWidth+differenceX+"px",fullMap2.style.top=windowHeight+differenceY+"px"):(fullMap2.style.left=parseInt(finishX)+differenceX+"px",fullMap2.style.top=parseInt(finishY)+differenceY+"px")))}map.addEventListener("mousedown",(function(e){startX=e.x,startY=getBodyScrollTop()+e.y,map.addEventListener("mousemove",mapZoom)})),map.addEventListener("mouseup",(function(){fullMap?(finishX=fullMap.style.left,finishY=fullMap.style.top):fullMap2&&(finishX=fullMap2.style.left,finishY=fullMap2.style.top),first=!1,map.removeEventListener("mousemove",mapZoom)}));