// const questionsForTests = [[" Натисніть на країну з назвою "], [" Натисніть на країну зі столицею "], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""], [""]];

const listOfCountries = [
  // Країни Світу
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Країни Європи
  [
    ["Україна"],
    ["Франція"],
    ["Іспанія"],
    ["Швеція"],
    ["Норвегія"],
    ["Німеччина"],
    ["Фінляндія"],
    ["Польща"],
    ["Італія"],
    ["Велика Британія"],
    ["Румунія"],
    ["Білорусь"],
    ["Греція"],
    ["Болгарія"],
    ["Ісландія"],
    ["Угорщина"],
    ["Португалія"],
    ["Австрія"],
    ["Чехія"],
    ["Сербія"],
    ["Ірландія"],
    ["Грузія"],
    ["Литва"],
    ["Латвія"],
    ["Хорватія"],
    ["Боснія і Герцеговина"],
    ["Словаччина"],
    ["Естонія"],
    ["Данія"],
    ["Нідерланди"],
    ["Швейцарія"],
    ["Молдова"],
    ["Бельгія"],
    ["Албанія"],
    ["Північна Македонія"],
    ["Туреччина"],
    ["Словенія"],
    ["Чорногорія"],
    ["Косово"],
    ["Кіпр"],
    ["Люксембург"],
    ["Андорра"],
    ["Мальта"],
    ["Ліхтенштейн"],
    ["Сан-Марино"],
    ["Монако"],
    ["Ватикан"],
  ],
  // Країни Азії
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Країни Африки
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Країни Північної Америки
  [
    ["Канада"],
    ["США"],
    ["Беліз"],
    ["Гватемала"],
    ["Гондурас"],
    ["Коста-Рика"],
    ["Мексика"],
    ["Нікарагуа"],
    ["Панама"],
    ["Сальвадор"],
    ["Антигуа і Барбуда"],
    ["Багамські Острови"],
    ["Барбадос"],
    ["Гаїті"],
    ["Гренада"],
    ["Домініка"],
    ["Домініканська Республіка"],
    ["Куба"],
    ["Сент-Вінсент і Гренадини"],
    ["Сент-Кіттс і Невіс"],
    ["Сент-Люсія"],
    ["Тринідад і Тобаго"],
    ["Ямайка"],
  ],
  // Країни Південної Америки
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
];

const listOfCapitals = [
  // Столиці Світу
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Столиці Європи
  [
    ["Київ"],
    ["Париж"],
    ["Мадрид"],
    ["Стокгольм"],
    ["Осло"],
    ["Берлін"],
    ["Гельсінкі"],
    ["Варшава"],
    ["Рим"],
    ["Лондон"],
    ["Бухарест"],
    ["Мінськ"],
    ["Афіни"],
    ["Софія"],
    ["Рейк'явік"],
    ["Будапешт"],
    ["Лісабон"],
    ["Відень"],
    ["Прага"],
    ["Белград"],
    ["Дублін"],
    ["Тбілісі"],
    ["Вільнюс"],
    ["Рига"],
    ["Загреб"],
    ["Сараєво"],
    ["Братислава"],
    ["Таллінн"],
    ["Копенгаген"],
    ["Амстердам"],
    ["Берн"],
    ["Кишинів"],
    ["Брюссель"],
    ["Тирана"],
    ["Скоп'є"],
    ["Анкара"],
    ["Любляна"],
    ["Подгориця"],
    ["Приштина"],
    ["Нікосія"],
    ["Люксембург"],
    ["Андорра-ла-Велья"],
    ["Валлетта"],
    ["Вадуц"],
    ["Сан-Марино"],
    ["Монако"],
    ["Ватикан"],
  ],
  // Столиці Азії
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Столиці Африки
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Столиці Північної Америки
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
  // Столиці Південної Америки
  [
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
    [""],
  ],
];

popupTestGeography1.querySelectorAll(".popup-body-list-point-text-info-icon").forEach((e) => {
  e.addEventListener("mouseenter", function () {
    tool3.style.display = "block";
  });
  e.addEventListener("mousemove", function (e) {
    tool3.style.top = getBodyScrollTop() + 15 + e.y + "px";
    tool3.style.left = 15 + e.x + "px";
  });
  e.addEventListener("mouseleave", function () {
    tool3.style.display = "none";
  });
});

popupTestGeography2.querySelectorAll(".popup-body-list-point-text-info-icon").forEach((e) => {
  e.addEventListener("mouseenter", function () {
    tool3.style.display = "block";
  });
  e.addEventListener("mousemove", function (e) {
    tool3.style.top = getBodyScrollTop() + 15 + e.y + "px";
    tool3.style.left = 15 + e.x + "px";
  });
  e.addEventListener("mouseleave", function () {
    tool3.style.display = "none";
  });
});

let popupTestGeographyInfo0 = "";
let popupTestGeographyInfo1 = "";
let popupTestGeographyInfo2 = "";
let popupTestGeographyInfo3 = "";
let popupTestGeographyInfo4 = "";

if (sessionStorage.getItem("stageOfTest") == "finished") {
  switch (sessionStorage.getItem("numberOfTest")) {
    case "0":
      finishGeographyTest1();
      sessionStorage.removeItem("stageOfTest");
      break;
    case "1":
      finishGeographyTest2();
      sessionStorage.removeItem("stageOfTest");
      break;
    case "2":
      finishGeographyTest3();
      sessionStorage.removeItem("stageOfTest");
      break;
  }
}

popupTestGeography1.querySelector(".popup-body[data-testStage='1'] .popup-body-button").addEventListener("click", function () {
  popupTestGeographyInfo0 = "0";
  popupTestGeographyInfo1 = "0";
  popupTestGeographyInfo2 = popupTestGeography1.querySelector(".popup-body-list-point-input[name='selectRegionOfTheWorld']").value;
  popupTestGeographyInfo3 = popupTestGeography1.querySelector(".popup-body-list-point-input[name='selectKnowledge']").value;
  popupTestGeographyInfo4 = popupTestGeography1.querySelector(".popup-body-list-point-input[name='inputNumberQuestions']").value;
  popupTestGeographyInfo5 = popupTestGeography1.querySelector(".popup-body-list-point-input[name='inputTimeForTest']").value;
  // set a check for input time and number of answer
  // have to done it
  if (popupTestGeographyInfo5 >= 1 && popupTestGeographyInfo5 <= 60 && popupTestGeographyInfo4 >= 1 && popupTestGeographyInfo4 <= 60) {
    document.location = `selectedTest.html?subject=${popupTestGeographyInfo0}&test=${popupTestGeographyInfo1}&r=${popupTestGeographyInfo2}&k=${popupTestGeographyInfo3}&c=${popupTestGeographyInfo4}&t=${popupTestGeographyInfo5}`;
  }
});

popupTestGeography2.querySelector(".popup-body[data-testStage='1'] .popup-body-button").addEventListener("click", function () {
  popupTestGeographyInfo0 = "0";
  popupTestGeographyInfo1 = "1";
  popupTestGeographyInfo2 = popupTestGeography2.querySelector(".popup-body-list-point-input[name='selectCountryOfTheWorld']").value;
  popupTestGeographyInfo3 = popupTestGeography2.querySelector(".popup-body-list-point-input[name='inputNumberQuestions']").value;
  popupTestGeographyInfo4 = popupTestGeography2.querySelector(".popup-body-list-point-input[name='inputTimeForTest']").value;
  // set a check for input time and number of answer
  // have to done it
  if (popupTestGeographyInfo4 >= 1 && popupTestGeographyInfo4 <= 60 && popupTestGeographyInfo3 >= 1 && popupTestGeographyInfo3 <= 60) {
    document.location = `selectedTest.html?subject=${popupTestGeographyInfo0}&test=${popupTestGeographyInfo1}&r=${popupTestGeographyInfo2}&c=${popupTestGeographyInfo3}&t=${popupTestGeographyInfo4}`;
  } else {
    console.log("wadawdaw");
  }
});

function finishGeographyTest1() {
  document.getElementById("body").classList += " popup-active";
  document.getElementById("popupTestsInMap").className = "popup-container active";
  popupTestGeography1.className = "popup-content active";
  popupTestGeography1.querySelector(".popup-body[data-testStage='4']").className = "popup-body active";

  popupTestGeography1.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='region'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("region");
  popupTestGeography1.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='numberQuestions'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("numberOfQuestions");
  popupTestGeography1.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='numberTrueAnswers'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("correctedAnswers");
  popupTestGeography1.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='spendTime'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("time");

  // Download information in BD write in "map.html"
}

function finishGeographyTest2() {
  document.getElementById("body").classList += " popup-active";
  document.getElementById("popupTestsInMap").className = "popup-container active";
  popupTestGeography2.className = "popup-content active";
  popupTestGeography2.querySelector(".popup-body[data-testStage='4']").className = "popup-body active";

  popupTestGeography2.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='region'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("region");
  popupTestGeography2.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='numberQuestions'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("numberOfQuestions");
  popupTestGeography2.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='numberTrueAnswers'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("correctedAnswers");
  popupTestGeography2.querySelector(".popup-body[data-testStage='4'] .popup-body-list-point-input[data-input='spendTime'] .popup-body-list-point-input-information").innerText =
    sessionStorage.getItem("time");
}

popupTestGeography1.querySelector(".popup-body[data-testStage='4'] .popup-body-button").addEventListener("click", function () {
  document
    .querySelector("#popupTestsInMap")
    .querySelectorAll(" .active")
    .forEach((e) => {
      console.log(e.classList);
      document.querySelector("#popupTestsInMap").querySelector("." + e.classList[0] + ".active").className = e.classList[0];
      console.log(e.classList);
    });
  document.getElementById("popupTestsInMap").className = "popup-container";
  document.getElementById("body").className = "";
});

popupTestGeography2.querySelector(".popup-body[data-testStage='4'] .popup-body-button").addEventListener("click", function () {
  document
    .querySelector("#popupTestsInMap")
    .querySelectorAll(" .active")
    .forEach((e) => {
      console.log(e.classList);
      document.querySelector("#popupTestsInMap").querySelector("." + e.classList[0] + ".active").className = e.classList[0];
      console.log(e.classList);
    });
  document.getElementById("popupTestsInMap").className = "popup-container";
  document.getElementById("body").className = "";
});
